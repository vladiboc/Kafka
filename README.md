# Проект Kafka<br>

<font size='4em'>
    (Настройка Kafka в приложении, Отправка, принятие и обработка сообщений Kafka)
</font>

## Описание проекта
Проект состоит из трёх модулей:  
- **order-service** - Spring Boot web-приложение, которое принимает запрос на создание заказ, создает объект - событие заказа, отправляет событие заказа в Kafka. Затем слушает Kafka, и при появлении статуса заказа читает его и логирует
- **order-status-service** - Spring Boot web-приложение, которое слушает Kafka, и при появлении события заказа читает его, создает объект - статус заказа, отправляет статус заказа в Kafka
- **libkafka** - общая библиотека для первых двух модулей, содержит объекты, использумые как первым, так и вторым модулем. В том числе объекты событие заказа и статус заказа.

## Стек технологий
- Java 17
- SpringFramework Boot 3.3.0
- Gradle 8.8
- Docker 24.0.7
- Docker Compose 2.20.2

## Инструкция по локальному запуску приложения

**I Клонирование репозитория**  
Скачайте (склонируйте) проект, перейдите в директорию проекта:  
```$ git clone https://github.com/vladiboc/Kafka.git; cd Kafka```

**II Сборка Jar-файлов проекта**  
В директории проекта запустите команды:  
```$ ./gradlew libkafka:jar```  
```$ ./gradlew order-status-service:jar```  
```$ ./gradlew order-service:jar```  
Это соберет (построит) Jar-файлы модулей проекта в их поддиректориях `build/libs`.  

**III Запуск Kafka**  
Перейдите в поддиректорию `docker-kafka`, запустите в ней скрипт запуска композиции Kafka:  
```$ cd docker-kafka; ./docker-kafka-start.sh```  

**IV Запуск сервиса статуса заказа**  
Откройте еще одно окно терминала. В директории проекта выполните команду:  
```$ java -jar build/libs/order-status-service-0.0.1.jar```

**V Запуск сервиса заказа**  
Откройте еще одно окно терминала. В директории проекта выполните команду:  
```$ java -jar build/libs/order-service-0.0.1.jar```  
OpenApi сервиса будет доступно по URL:  
http://localhost:8080/swagger

## Работа приложения
Создание заказа описано в API сервиса заказа по адресу:  
http://localhost:8080/swagger  
При создании заказа через API в терминалах запуска сервисов будет логироваться получение сообщений через Kafka.
